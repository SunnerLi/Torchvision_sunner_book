

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>torchvision_sunner.data.loader &mdash; Torchvision_sunner 18.09.09 文档</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="torchvision_sunner.transforms" href="transforms.html" />
    <link rel="prev" title="torchvision_sunner.data" href="data.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Torchvision_sunner
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">What is Torchvision_sunner?</a></li>
<li class="toctree-l1"><a class="reference internal" href="get_start.html">Let’s Get Start!</a></li>
<li class="toctree-l1"><a class="reference internal" href="dataset.html">Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="read.html">Extend your data format</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">torchvision_sunner.data</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">torchvision_sunner.data.loader</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#torchvision-sunner-data-imageloader-source">torchvision_sunner.data.ImageLoader [source]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameter">Parameter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#torchvision-sunner-data-multiloader-source">torchvision_sunner.data.MultiLoader [source]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameter">Parameter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#torchvision-sunner-data-iterationloader-source">torchvision_sunner.data.IterationLoader [source]</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameter">Parameter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">torchvision_sunner.transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="categorical.html">torchvision_sunner.transforms.categorical</a></li>
<li class="toctree-l1"><a class="reference internal" href="function.html">torchvision_sunner.transforms.function</a></li>
<li class="toctree-l1"><a class="reference internal" href="constant.html">Constant</a></li>
<li class="toctree-l1"><a class="reference internal" href="example1.html">Example 1: Deal with Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="example2.html">Example 2: Deal with Video</a></li>
<li class="toctree-l1"><a class="reference internal" href="example3.html">Example 3: Deal with Categorical Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="example4.html">Example 4: Tackle with CityScapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="example5.html">Example 5: Train-test-split</a></li>
<li class="toctree-l1"><a class="reference internal" href="f&amp;q.html">F &amp; Q</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Torchvision_sunner</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>torchvision_sunner.data.loader</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorial/loader.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="torchvision-sunner-data-loader">
<span id="torchvision-sunner-data-loader"></span><h1>torchvision_sunner.data.loader<a class="headerlink" href="#torchvision-sunner-data-loader" title="永久链接至标题">¶</a></h1>
<p>In the <code class="docutils literal notranslate"><span class="pre">torchvision_sunner.data</span></code> module, we defined <code class="docutils literal notranslate"><span class="pre">ImageLoader</span></code> class previously, and used it to become the data loader object. In the version of <code class="docutils literal notranslate"><span class="pre">18.9.15</span></code>, this mechanism is also remained. But you can also use the traditional <code class="docutils literal notranslate"><span class="pre">data.DataLoader</span></code> to load the data. Before we start to address the function of each API in loader category, let’s import the module first:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">torchvision_sunner.data</span> <span class="kn">as</span> <span class="nn">sunnerData</span>
<span class="kn">import</span> <span class="nn">torch.utils.data</span> <span class="kn">as</span> <span class="nn">data</span>
</pre></div>
</div>
<p>You can create the <code class="docutils literal notranslate"><span class="pre">ImageLoader</span></code> as usual:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">loader</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">ImageLoader</span><span class="p">(</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">ImageDataset</span><span class="p">(</span>
        <span class="n">root</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;image_folder&#39;</span><span class="p">]],</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Compose</span><span class="p">([</span>
            <span class="n">sunnertransforms</span><span class="o">.</span><span class="n">ToTensor</span><span class="p">(),</span>
        <span class="p">])</span>
    <span class="p">),</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">num_workers</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Also, you can use <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code> directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">loader</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">DataLoader</span><span class="p">(</span>
    <span class="n">dataset</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">ImageDataset</span><span class="p">(</span>
        <span class="n">root</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;image_folder&#39;</span><span class="p">]],</span>
        <span class="n">transform</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Compose</span><span class="p">([</span>
            <span class="n">sunnertransforms</span><span class="o">.</span><span class="n">ToTensor</span><span class="p">(),</span>
        <span class="p">])</span>
    <span class="p">),</span> <span class="n">batch_size</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">shuffle</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">num_workers</span> <span class="o">=</span> <span class="mi">2</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="section" id="torchvision-sunner-data-imageloader-source">
<span id="torchvision-sunner-data-imageloader-source"></span><h2>torchvision_sunner.data.ImageLoader [<a class="reference external" href="https://github.com/SunnerLi/Torchvision_sunner2/blob/master/torchvision_sunner/data/loader.py#L5">source</a>]<a class="headerlink" href="#torchvision-sunner-data-imageloader-source" title="永久链接至标题">¶</a></h2>
<p>The wrapper of the <code class="docutils literal notranslate"><span class="pre">DataLoader</span></code>. This function provides few parameters to construct the data loader. If you want to assign the parameter of loader for more detail, we recommand you to use the torchvision original dataloader</p>
<div class="section" id="parameter">
<span id="parameter"></span><h3>Parameter<a class="headerlink" href="#parameter" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><strong>dataset (data.Dataset) -</strong> The dataset which you want to load</li>
<li><strong>batch_size (int) -</strong> The number of image you want to load in single batch</li>
<li><strong>shuffle (bool) -</strong> To shuffle the image or not</li>
<li><strong>num_workers (int) -</strong> The number of process you want to create to load the data</li>
</ul>
</div>
</div>
<div class="section" id="torchvision-sunner-data-multiloader-source">
<span id="torchvision-sunner-data-multiloader-source"></span><h2>torchvision_sunner.data.MultiLoader [<a class="reference external" href="https://github.com/SunnerLi/Torchvision_sunner2/blob/master/torchvision_sunner/data/loader.py#L25">source</a>]<a class="headerlink" href="#torchvision-sunner-data-multiloader-source" title="永久链接至标题">¶</a></h2>
<p>This class can deal with multiple dataset object. The usage of <code class="docutils literal notranslate"><span class="pre">MultiLoader</span></code> is as same as other data loader. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dataset1</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">ImageDataset</span><span class="p">(</span>
    <span class="n">root</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;image_folder1&#39;</span><span class="p">]],</span> 
    <span class="n">transform</span> <span class="o">=</span> <span class="n">transforms_compose_op1</span>
<span class="p">)</span>
<span class="n">dataset2</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">ImageDataset</span><span class="p">(</span>
    <span class="n">root</span> <span class="o">=</span> <span class="p">[[</span><span class="s1">&#39;image_folder2&#39;</span><span class="p">]],</span> 
    <span class="n">transform</span> <span class="o">=</span> <span class="n">transforms_compose_op2</span>
<span class="p">)</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">MultiLoader</span><span class="p">([</span><span class="n">dataset1</span><span class="p">,</span> <span class="n">dataset2</span><span class="p">],</span> <span class="n">num_workers</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="parameter">
<span id="id1"></span><h3>Parameter<a class="headerlink" href="#parameter" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><strong>datasets (The list of data.Dataset) -</strong> The datasets which you want to load</li>
<li><strong>batch_size (int) -</strong> The number of image you want to load in single batch</li>
<li><strong>shuffle (bool) -</strong> To shuffle the image or not</li>
<li><strong>num_workers (int) -</strong> The number of process you want to create to load the data</li>
</ul>
</div>
</div>
<div class="section" id="torchvision-sunner-data-iterationloader-source">
<span id="torchvision-sunner-data-iterationloader-source"></span><h2>torchvision_sunner.data.IterationLoader [<a class="reference external" href="https://github.com/SunnerLi/Torchvision_sunner2/blob/master/torchvision_sunner/data/loader.py#L73">source</a>]<a class="headerlink" href="#torchvision-sunner-data-iterationloader-source" title="永久链接至标题">¶</a></h2>
<p>This class can wrap the loader into iteration view. For the usual usage, we might go through the whole data for multiple rounds. In this case, we call <code class="docutils literal notranslate"><span class="pre">epoch</span></code> for each round. However, we might not need much training step conversely. On the other hand, we can load the data for rigid number of <code class="docutils literal notranslate"><span class="pre">iteration</span></code> and save the time. Here is the usage to assign loading the batch data for 30000 times:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">loader</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">MultiLoader</span><span class="p">([</span><span class="n">dataset1</span><span class="p">,</span> <span class="n">dataset2</span><span class="p">],</span> <span class="n">num_workers</span> <span class="o">=</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">loader</span> <span class="o">=</span> <span class="n">sunnerData</span><span class="o">.</span><span class="n">IterationLoader</span><span class="p">(</span><span class="n">loader</span><span class="p">,</span> <span class="mi">30000</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="parameter">
<span id="id2"></span><h3>Parameter<a class="headerlink" href="#parameter" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><strong>loader (data.DataLoader) -</strong> The loader you want to wrap</li>
<li><strong>max_iter (int) -</strong> The number of iteration you want to assign</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="transforms.html" class="btn btn-neutral float-right" title="torchvision_sunner.transforms" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data.html" class="btn btn-neutral" title="torchvision_sunner.data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, SunnerLi.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'18.09.09',
            LANGUAGE:'zh_CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>